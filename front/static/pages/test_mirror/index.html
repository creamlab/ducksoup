<!DOCTYPE html>
<html class="h-100">

<head>
  <title>DuckSoup | mirror</title>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js"
  integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc"
  crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/styles/test_mirror/main.css">
  <script src="/scripts/lib/ducksoup.js"></script>
  <script src="/scripts/test_mirror/app.js"></script>
</head>
<body class="d-flex flex-column h-100">
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="#"">mirror</a>
    </div>
  </nav>
  <div class="container mt-5">
    <div class="row">
      <div class="col-4">
        <form id="settings">
          <div class="mb-3">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="videoCodec" id="input-codec-vp8" value="vp8" checked>
              <label class="form-check-label" for="input-codec-vp8">vp8</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="videoCodec" id="input-codec-h264" value="h264">
              <label class="form-check-label" for="input-codec-h264">h264</label>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="input-group-sm mb-3">
                <label for="input-width" class="form-label">Width</label>
                <input class="form-control" id="input-width" type="number" name="width" value="800">
              </div>
            </div>
            <div class="col">
              <div class="input-group-sm mb-3">
                <label for="input-height" class="form-label">Height</label>
                <input class="form-control" id="input-height" type="number" name="height" value="600">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="mb-3">
                <label for="input-frame-rate" class="form-label">Frame rate</label>
                <div class="input-group input-group-sm">
                  <input class="form-control" id="input-frame-rate" type="number" name="frameRate" value="30">
                  <span class="input-group-text">fps</span>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="mb-5">
                <label for="input-duration" class="form-label">Duration</label>
                <li class="input-group input-group-sm">
                  <input class="form-control" id="input-duration" type="number" name="duration" value="20">
                  <span class="input-group-text">sec</span>
                </li>
              </div>
            </div>
          </div>
          <div class="input-group-sm mb-3">
            <label for="finput-audio-fx" class="form-label">Audio FX</label>
            <input class="form-control" id="input-audio-fx" type="text" name="audioFx" value="pitch pitch=0.8" placeholder="fx_name prop1=value1 prop2=value2...">
          </div>
          <div class="input-group-sm mb-5">
            <label for="input-video-fx" class="form-label">Video FX</label>
            <input class="form-control" id="input-video-fx" type="text" name="videoFx" value="coloreffects preset=xpro" placeholder="fx_name prop1=value1 prop2=value2...">
          </div>
          <button type="submit" class="btn btn-outline-success" id="start">Start</button>
          <button type="button" class="btn btn-outline-secondary d-none" id="stop">Stop</button>
        </form>
      </div>
      <div class="col-8">
        <div id="stopped" class="d-none">
          <p id="stopped-message">Conversation terminée</p>
        </div>
        <div id="failed" class="d-none">
            <p>Erreur</p>
        </div>
        <div id="ducksoup-container" class="mb-3"></div>
        <div id="live-control" class="d-none">
          <div class="row mb-3">
            <label class="col-2 col-form-label">Audio control</label>
            <div class="col-3">
              <input type="text" class="form-control" placeholder="property" id="audio-property">
            </div>
            <div class="col-3">
              <input type="number" class="form-control" placeholder="value" id="audio-value">
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-outline-secondary" id="audio-control">Send</button>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-2 col-form-label">Video control</label>
            <div class="col-3">
              <input type="text" class="form-control" placeholder="property" id="video-property">
            </div>
            <div class="col-3">
              <input type="number" class="form-control" placeholder="value" id="video-value">
            </div>
            <div class="col-3">
              <button type="button" class="btn btn-outline-secondary" id="video-control">Send</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer mt-auto py-3 bg-light">
    <div class="container">
      <div class="row">
        <div class="text-end">audio ↑ <span id="audio-up">0.0</span> kb/s ↓ <span id="audio-down">0.0</span> kb/s</div>
        <div class="text-end">video ↑ <span id="video-up">0.0</span> kb/s ↓ <span id="video-down">0.0</span> kb/s</div>
      </div>
    </div>
  </footer>
</body>
</html>