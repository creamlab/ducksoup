(()=>{var c=e=>Boolean(parseInt(e)),n=(e,o)=>{let t=window.location.search.substring(1).split("&");for(let s=0;s<t.length;s++){let d=t[s].split("=");if(decodeURIComponent(d[0])==e){let r=decodeURIComponent(d[1]);return o?o(r):r}}},l=e=>encodeURI(btoa(JSON.stringify(e))),m=async()=>{let e=n("room"),o=n("uid"),i=n("name"),t=n("proc",c),s=n("proc",c),d=parseInt(n("duration"),10);if(typeof e=="undefined"||typeof o=="undefined"||typeof i=="undefined"||typeof t=="undefined"||isNaN(d))document.getElementById("error").classList.remove("d-none"),document.getElementById("embed").classList.add("d-none");else{let r={room:e,uid:o,name:i,proc:t,duration:d,h264:s};document.getElementById("embed").src=`/1on1/?params=${l(r)}`}};document.addEventListener("DOMContentLoaded",m);var a=e=>{document.getElementById("stopped-message").innerText=e,document.getElementById("stopped").classList.remove("d-none"),document.getElementById("embed").classList.add("d-none")};window.addEventListener("message",e=>{e.origin===window.location.origin&&(e.data==="finish"?a("Conversation termin\xE9e"):e.data==="error-full"?a("Connexion refus\xE9e (salle compl\xE8te)"):e.data==="error-duplicate"?a("Connexion refus\xE9e (d\xE9j\xE0 connect\xE9-e)"):e.data==="error"&&a("Erreur"))});})();
