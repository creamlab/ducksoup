(()=>{var d=e=>{let o=window.location.search.substring(1).split("&");for(let n=0;n<o.length;n++){let t=o[n].split("=");if(decodeURIComponent(t[0])==e)return decodeURIComponent(t[1])}},r=async()=>{let e=d("room"),i=d("uid"),o=d("name"),n=d("proc"),t=parseInt(d("duration"),10);typeof e=="undefined"||typeof i=="undefined"||typeof o=="undefined"||!["0","1"].includes(n)||isNaN(t)?(document.getElementById("error").classList.remove("d-none"),document.getElementById("embed").classList.add("d-none")):document.getElementById("embed").src=`/1on1/?room=${e}&uid=${i}&name=${o}&proc=${n}&duration=${t}`};document.addEventListener("DOMContentLoaded",r);var s=e=>{document.getElementById("stopped-message").innerText=e,document.getElementById("stopped").classList.remove("d-none"),document.getElementById("embed").classList.add("d-none")};window.addEventListener("message",e=>{e.origin===window.location.origin&&(e.data==="finish"?s("Conversation termin\xE9e"):e.data==="error-full"?s("Connexion refus\xE9e (salle compl\xE8te)"):e.data==="error-duplicate"?s("Connexion refus\xE9e (d\xE9j\xE0 connect\xE9-e)"):e.data==="error"&&s("Erreur"))});})();
