appsrc format=time is-live=true do-timestamp=true name=src ! 
application/x-rtp,encoding-name=H264 ! 
rtpjitterbuffer latency=100 ! 
rtph264depay ! 
h264parse ! 

tee name=teein ! 
queue max-size-buffers=0 max-size-bytes=0 max-size-time=5000000000 ! 
mpegtsmux ! 
filesink location=data/${namespace}/${prefix}-video-in.mts 

teein. ! 
queue max-size-buffers=0 max-size-bytes=0 ! 
${decode} !
videoconvert ! 
${fx} ! 
videoconvert ! 
videorate ! 
videoscale ! 
video/x-raw, format=I420, framerate=${framerate}/1, width=${width}, height=${height}, colorimetry=bt601, chroma-site=jpeg ! 
${encodeFast} ! 
h264parse ! 

tee name=teeout ! 
queue max-size-buffers=0 max-size-bytes=0 max-size-time=5000000000 ! 
mpegtsmux ! 
filesink location=data/${namespace}/${prefix}-video-fx.mts 

teeout. ! 
queue max-size-buffers=0 max-size-bytes=0 ! 
rtph264pay config-interval=-1 !
appsink name=sink qos=true