appsrc format=time is-live=true do-timestamp=true name=src ! 
application/x-rtp,encoding-name=H264 ! 
rtpjitterbuffer latency=100 ! 
rtph264depay !
h264parse ! 
tee name=teein ! 
queue max-size-buffers=0 max-size-bytes=0 max-size-time=5000000000 ! 
matroskamux ! 
filesink location=logs/${prefix}-video-in.mkv 
teein. ! 
queue max-size-buffers=0 max-size-bytes=0 ! 
avdec_h264 !
videoconvert ! 
coloreffects preset=xpro ! 
videoconvert ! 
videorate ! 
video/x-raw,format=I420,framerate=30/1 ! 
x264enc speed-preset=ultrafast tune=zerolatency key-int-max=20 qos=true ! 
video/x-h264,stream-format=byte-stream,profile=constrained-baseline !
tee name=teeout !
queue max-size-buffers=0 max-size-bytes=0 max-size-time=5000000000 ! 
h264parse ! 
matroskamux ! 
filesink location=logs/${prefix}-video-out.mkv 
teeout. ! 
queue max-size-buffers=0 max-size-bytes=0 ! 
rtph264pay !
appsink name=sink qos=true